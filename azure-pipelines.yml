# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

pool:
  vmImage: windows-latest

steps:

- task: PowerShell@2
  env:
    MSBuildBinPath: 'C:\Program Files\Microsoft Visual Studio\2022\Enterprise\MSBuild\Current\Bin\'
  inputs:
    filePath: 'backend\src\Database\Command\Scripts\build\BuildCsproj.ps1'
    workingDirectory: 'backend\src\Database\Command\Scripts\build'
- task: PowerShell@2
  inputs:
    filePath: 'backend\src\Database\Command\Scripts\build\Add-EventOutboxAdapterScripts.ps1'
    workingDirectory: 'backend\src\Database\Command\Scripts\build'
- task: PowerShell@2
  inputs:
    filePath: 'backend\src\Database\Command\Scripts\build\Add-SagaNotificationsScripts.ps1'
    workingDirectory: 'backend\src\Database\Command\Scripts\build'
- task: PowerShell@2
  inputs:
    filePath: 'backend\src\Database\Command\Scripts\build\CopyArtifacts.ps1'
    arguments: '$(Build.ArtifactStagingDirectory)'
    workingDirectory: 'backend\src\Database\Command\Scripts\build'